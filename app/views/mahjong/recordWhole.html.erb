<%= render :partial => "mahjong/header" %>


<div id="record_whole" class= "container">
	<table>
		<tr>
			<td>순위</td>
			<td>이름</td>
			<td>총 점수</td>
			<td>평균 점수</td>
			<td>1위 율</td>
			<td>2위 율</td>
			<td>3위 율</td>
			<td>4위 율</td>
			<td>1,2위 율</td>
			<td>게임 수</td>
		</tr>
		
		<% (0..@data.size-1).each do |i| %>
			<% d = @data[i] %>
			<% if d["amountGame"] != 0 %>
				<tr>
					<td><%= i+1 %></td>
					<td><%= d["user"] %></td>
					<td><%= d["score"] %></td>
					<td><%= (d["score"]/d["amountGame"]).round(2) %></td>
					<td><%= (d["first"].to_f/d["amountGame"]*100).round(2) %></td>
					<td><%= (d["second"].to_f/d["amountGame"]*100).round(2) %></td>
					<td><%= (d["third"].to_f/d["amountGame"]*100).round(2) %></td>
					<td><%= (d["fourth"].to_f/d["amountGame"]*100).round(2) %></td>
					<td><%= ((d["first"]+ d["second"]).to_f/d["amountGame"]).round(2) %></td>
					<td><%= d["amountGame"] %></td>
				</tr>
			<% end %>
		<% end %>
		
		
	</table>
</div>
